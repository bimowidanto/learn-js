<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Variable dan tipe data</title>

    <script>
        //<!-- Variabel -->
        /*
        Variabel adalah sebuah nama yang mewakili sebuah nilai. 
        Variabel bisa diisi dengan berbagai macam nilai seperti 
        string (teks), number (angka), objek, array, dan sebagainya.
        */

        //Pada Javascript kita dianjurkan menggunakan camelCase dalam 
        //penamaan variabel atau menggunakan snake case atau underscore. 

            var site_name = "Petani Kode";
            var visitor_count = 1243;

        //<!--Menampilkan isi Variabel-->
        //Untuk menampilkan isi variabel, kita bisa memanfaatkan fungsi-fungsi untuk menampilkan output seperti:
        /*
        Fungsi console.log() menampilkan output ke console javascript;
        Fungsi document.write() menampilkan output ke dokumen HTML;
        dan Fungsi alert() menampilkan output ke jendela dialog.
        */

            // membuat variabel
            var name = "JavaScript";
            var visitorCount = 5000;
            var isActive = "per User";
            var url = "www.google.com";
    
            // menampilkan variabel ke jendela dialog (alert)
            alert("Selamat datang di " + name);
        
            visitorCount = 6000; //mengisi ulang variabel 

        //<!--Mengisi Ulang Variabel-->
        //Variabel bersifat mutable, artinya nilai yang tersimpan di dalamnya dapat kita isi ulang (berubah).

            // membuata variabel
            var age = 18;
            // lalu ulang
            age = 21;

        //<!-- Delete variabel-->

            var bookTitle = "Belajar Pemrograman Javascript";
            delete bookTitle; //menghapus variabel

            //let bookTitle;

            // menampilkan variabel ke dalam HTML
            document.write("Nama Situs: " + name + "<br>");
            document.write("Jumlah Pengunjung: " + visitorCount + "<br>");
            document.write("Status Aktif: " + isActive + "<br>");
            document.write("Alamat URL: " + url + "<br>");


        //<!--Tipe Data-->
        //Tipe data adalah jenis-jenis data yang bisa kita simpan di dalam variabel.
        //Ada beberapa tipe data dalam Javascript:
        /*
        <1>String (teks)
        <2>Integer atau Number (bilangan bulat)
        <3>Float (bilangan Pecahan)
        <4>Boolean
        <5>Object
        */

            var name = "Dian"; //tipedata string
            var age = 22;   //tipedate integer
            var single = true;  //tipedata boolean

        //<!--mengecek tipe data dengan kata kunci typeof

            typeof name;
            typeof age;
            typeof single;


        //<!--Aturan Penulisan Nama Variabel-->
            /*
            gunakan let hindari var
            gunakan const untuk variabel yg 
            nilainya statis atau tidak berubah
            */
            /*
            // salah
            var 123nama = "Petanikode";
            // benar
            var nama123 = "Petani Kode";
            // benar
            var _nama = "Petani Kode";
            // benar
            var fullName = "Petani Kode";
            // Es6
            let x = 1; //declaration
            x = 1; // assignment
            const x = 1 //untuk variabel yg nilainya statis atau tidak berubah
            */

            //<!--The Problem with var-->
            //var memang terlihat simple, tapi ada beberapa kasus yang sering membuat bingung.
            //Problem #1 : Reassign
            var foo ='hello1'
            var foo ='hello2'
            console.log(foo) //=> hello
            //Masalahnya disini tidak ada pesan error sama sekali ketika terjadi duplikasi variabel. Tentu ini cukup riskan jika terjadi tanpa sengaja.
            
            //Problem #2 : Hoisting
            x=10
            var x
            console.log(x) //=> 10
            //Ini sama dengan yang sebelumnya. Kenapa hasilnya bisa 10 ? itu karena Hoisting. Hoisting artinya mengangkat. Jadi di belakang layar sebenarnya mengangkat var x di angkat keatas menjadi seperti ini :
            var x
            x=10
            console.log(x) //=> 10
            //Kenapa ini jadi masalah ? ya karena membuat sebagian besar coder bingung.
            
            //Problem #3 : Scope
            //Block scope dalam javascript di tandai dengan simbol { }. Scope artinya pembagian program, ini sering di temui pada if, for, switch, while dan sebagainya. Logikanya variabel dalam scope harusnya menjadi private dan tidak bisa di baca dari scope lain. Tapi mari kita coba buktikan
            var b=2
            if (true){
            var b=3
            }
            console.log(b) //=> 3
            //var ternyata menjadi global variabel, meskipun ada di dalam scope. Sebelum es6, solusinya adalah membuatnya dalam function scope
            var b=2
            function myScope(){
            var b=3
            }
            myScope()
            console.log(b) //=> 2
            //atau bisa di persingkat dengan anymous IIFE
            // Anymous IIFE ( Immediately Invoke Function Expression)
            var b=2
            (function(){
            var c=3
            })()
            console.log(b)//=> 2
            
            //Problem #4 : Lupa deklarasi var = global
            //Apa jadinya jika variabel dibuat tanpa deklarasi terlebih dahulu ?
            (function(){
            c=3
            })()
            console.log(b)//=> 3
            //Variabel tanpa deklarasi dan langsung di assign akan di anggap 
            //menjadi global variabel. Ini karena hoisting. Global variable is evil. 
            //Sebisa mungkin hindari global variabel


            //<!--Let-->
            /*
            Cara kerja let hampir sama dengan var, bedanya di scope. 
            var adalah function scope, sedangkan let adalah block scope. ( lihat tabel diatas )
            apakah let bisa digunakan untuk solusi dari problem var diatas ?
            Mari kita coba problem var diatas dengan menggantinya menjadi let.
            */
            
            //Problem #1 : Reassign
            //let foo ='hello1'
            //let foo ='hello2' //=> TypeError: Duplicate declaration "foo"
            //console.log(foo)
            //hasilnya type error, artinya let tidak akan mengijinkan anda membuat duplikasi varibel
            
            //Problem #2 : Hoisting
            //x=10
            //let x
            //console.log(x) //=> ReferenceError: x is not defined
            //hasilnya ReferenceError. Hoisting tidak berlaku pada let dan 
            //variabel let harus di defenisikan terlebih dahulu sebelum di assign atau eksekusi
            
            //Problem #3 : Scope
            //let adalah block scope, sehingga kita tidak perlu harus berurusan lagi dengan function untuk membuat local variabel. 
            //let b=2
            //if (true){
            //let b=3
            //}
            //console.log(b) //=> 2
            //Untuk problem #4 tidak bisa diselesaikan dengan let. variabel tanpa deklarasi dianggap var. 
            //Ini menjadi tanggung jawab anda sendiri sebagai coder untuk lebih berhati-hati dalam membuat variabel. 
            //Intinya setiap variabel harus di deklarasikan.
            
            //<!--Const-->
            //Const atau Konstanta, dari namanya bisa di tebak. Variabel yang sifatnya tetap atau dengan kata lain nama dan isi dari variabel tidak bisa di ubah
            //const KEY=123
            //KEY = 456 //=> TypeError: Assignment to constant variable.
            //const KEY=123
            //var KEY = 456 //=> TypeError: Assignment to constant variable.
            //tapi sorry bro, ini tidak berlaku untuk object dan array
            //const obj = { id:1, name:'jhon'}
            //obj.location="medan"
            //console.log(obj) //=> { id:1, name:'jhon',location:'medan'}
            //obj={} //=> TypeError: Assignment to constant variable.
            /*
            const arr=[1,2,3,4]
            arr.push(5)
            console.log(arr) //=> [1,2,3,4,5]
            arr=[] //=> TypeError: Assignment to constant variable.
            Variabel const memang tidak bisa reassign, tapi value dan property dalam object bisa di rubah. Ini karena object dalam javascript adalah mutable.
            */
            //<!--Imutable data JS-->
            /*
            Immutable artinya tidak bisa berubah 
            #typedata String & integer
            Mutable artinya bisa berubah
            #array dan object adalah mutable
            */
            //Cloning variabel string :
            var str = "hello world";
            var newStr = str;
            newStr = "hello new world";

            console.log(newStr); // hello new world
            console.log(str); // hello world

        </script>

</head>
<body>

</body>
</html>